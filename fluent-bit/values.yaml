image:
  repository: cr.fluentbit.io/fluent/fluent-bit
  tag: 2.2.2
  pullPolicy: IfNotPresent

fullnameOverride: fluent-bit

kind: DaemonSet

rbac:
  create: true

serviceAccount:
  create: true

service:
  enabled: false

ingress:
  enabled: false

resources:
  limits:
    memory: 50Mi
    cpu: 100m
  requests:
    memory: 20Mi
    cpu: 50m

testFramework:
  enabled: false
openShift:
  enabled: false
podSecurityPolicy:
  create: false
networkPolicy:
  enabled: false
hotReload:
  enabled: false

config:
  customParsers: ""
  service: ""
  inputs: |
    [INPUT]
        Name              tail
        Path              /var/log/containers/*.log
        Tag               kube.*
        Parser            docker
        Docker_Mode       On
        Mem_Buf_Limit     5MB
        Skip_Long_Lines   On
  filters: |
    [FILTER]
        Name                kubernetes
        Match               kube.*
        Kube_Tag_Prefix     kube.var.log.containers.
        Kube_URL            https://kubernetes.default.svc:443
        Merge_Log           On
        Keep_Log            Off
        Annotations         Off
        Labels              Off
  outputs: |
    [OUTPUT]
        Name            kafka
        Match           kube.*
        Brokers         kafka.default.svc.cluster.local:9092
        Topics          fluent-raw-logs
